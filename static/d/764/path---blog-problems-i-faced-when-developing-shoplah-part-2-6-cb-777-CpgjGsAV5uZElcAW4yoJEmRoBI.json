{"data":{"site":{"siteMetadata":{"title":"Jenssen Lee","author":"Jenssen Lee"}},"markdownRemark":{"id":"8529092e-323a-575f-a903-c5394224fcb8","excerpt":"In order to deploy to Heroku, I first had to download Heroku Command Line Interface (CLI).  Since I already had an  existing Heroku app , I typed the following…","html":"<!-- description: This is a custom description for SEO and Open Graph purposes, rather than the default generated excerpt. Simply add a description field to the frontmatter. -->\n<ol>\n<li>In order to deploy to Heroku, I first had to download Heroku Command Line Interface (CLI). </li>\n</ol>\n<p>Since I already had an <a href=\"https://devcenter.heroku.com/articles/git#creating-a-heroku-remote\">existing Heroku app</a>, I typed the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">heroku git:remote -a jenlky-shopping-cart\n// set git remote heroku to https://git.heroku.com/jenlky-shopping-cart.git</code></pre></div>\n<p>Next I typed <code class=\"language-text\">git login</code>, it opened a tab and asked me to login.\nAfter logging in, I typed <code class=\"language-text\">git remote --v</code> which returned the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">heroku  https://git.heroku.com/jenlky-shopping-cart.git (fetch)\nheroku  https://git.heroku.com/jenlky-shopping-cart.git (push)\norigin  https://github.com/helplah/shopping-cart.git (fetch)\norigin  https://github.com/helplah/shopping-cart.git (push)\n\ngit push heroku master //push to heroku repo master branch\ngit push origin master //push to github repo master branch</code></pre></div>\n<p>So basically git add and git commit happen locally, while git remotes are versions of your repository that live on other servers. </p>\n<p>You deploy your app by pushing its code to a special Heroku-hosted remote that’s associated with your app.</p>\n<p>Lastly, I typed <code class=\"language-text\">git push heroku master</code> to push it to Heroku server.</p>\n<ol start=\"2\">\n<li>Localhost is used in development stage. But in Heroku, you cannot use localhost to refer to yourself. I had to conditionally use <code class=\"language-text\">windows.location.href</code> or <code class=\"language-text\">href links</code> depending on whether I’m in development in production. </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">if (process.env.NODE_ENV === &#39;development&#39;) {\nwindow.location.href = &#39;http://localhost:8080/auth/login&#39;;\n} else {\nwindow.location.href = &#39;https://jenlky-shopping-cart.herokuapp.com/auth/login&#39;;\n}</code></pre></div>\n<p>For example, <code class=\"language-text\">/auth/login</code> or <code class=\"language-text\">https://jenlky-shopping-cart.herokuapp.com/cart</code> were used like above.</p>\n<p>My corsOption origin was also changed to <code class=\"language-text\">https://jenlky-shopping-cart.herokuapp.com/</code> too, instead of <code class=\"language-text\">http://localhost:3000</code>. </p>","frontmatter":{"title":"Problems I faced when deploying ShopLah (Part 2)","date":"3 April 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/problems-i-faced-when-developing-shoplah-part-2/"}}